prefix: recipefy
name: genai

replicaCount: 1

image:
  repository: ghcr.io/aet-devops25/team-breaking-build/genai
  tag: latest
  pullPolicy: Always

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  automount: false

podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/path: "/health"
  prometheus.io/port: "8000"
  cluster-autoscaler.kubernetes.io/safe-to-evict: "true"
  app.kubernetes.io/version: "1.0.0"
  sidecar.istio.io/inject: "true"

podLabels: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  port: 8000

container:
  name: genai
  port: 8000
  portName: http
  protocol: TCP

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: genai.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []

resources:
  limits:
    cpu: 1000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 1Gi

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

nodeSelector: {}

tolerations: []

affinity: {}

env:
  - name: LLM_MODEL
    valueFrom:
      configMapKeyRef:
        name: recipefy-genai-config
        key: LLM_MODEL
  - name: LLM_TEMPERATURE
    valueFrom:
      configMapKeyRef:
        name: recipefy-genai-config
        key: LLM_TEMPERATURE
  - name: OPEN_WEBUI_API_KEY
    valueFrom:
      secretKeyRef:
        name: recipefy-genai-secret
        key: OPEN_WEBUI_API_KEY
  - name: LLM_BASE_URL
    valueFrom:
      configMapKeyRef:
        name: recipefy-genai-config
        key: LLM_BASE_URL
  - name: DEBUG
    valueFrom:
      configMapKeyRef:
        name: recipefy-genai-config
        key: DEBUG
  - name: LOG_LEVEL
    valueFrom:
      configMapKeyRef:
        name: recipefy-genai-config
        key: LOG_LEVEL

livenessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 60
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1